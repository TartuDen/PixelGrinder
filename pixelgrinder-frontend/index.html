<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>PixelGrinder</title>
    <!-- NEW: Character Creation CSS -->
    <link rel="stylesheet" href="characterCreation.css" />
    <!-- main CSS -->
    <link rel="stylesheet" href="ui.css" />

    <!-- Phaser -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.js" crossorigin="anonymous"></script>

    <style>
      /* Make the canvas full-width (responsive) */
      canvas {
        width: 100%;
        image-rendering: pixelated;
        image-rendering: crisp-edges;
      }
    </style>
  </head>
  <body>
    <!-- Player Info Display -->
    <div id="player-info">
      <div id="player-name"></div>
      <div id="player-gold"></div>
      <div id="player-mode"></div>

      <div id="health-bar" class="health-bar">
        <div id="health-fill"></div>
        <span id="health-text">HP: 100/100 (100%)</span>
      </div>

      <div id="mana-bar" class="mana-bar">
        <div id="mana-fill"></div>
        <span id="mana-text">Mana: 150/150 (100%)</span>
      </div>

      <div id="exp-bar" class="exp-bar">
        <div id="exp-fill"></div>
        <span id="exp-text">EXP: 0/100 (0%)</span>
      </div>

      <div id="player-level">Level: 1</div>
    </div>

    <!-- Casting Bar -->
    <div id="casting-bar"></div>

    <!-- Casting Progress Bar -->
    <div id="casting-progress-container">
      <div id="casting-skill-name"></div>
      <div id="casting-progress-fill"></div>
    </div>

    <!-- Stats Menu -->
    <div id="stats-menu" class="stats-menu" style="display: none">
      <button id="close-stats" class="close-btn">Close</button>
      <div id="stats-content"></div>
    </div>

    <!-- Inventory Menu -->
    <div id="inventory-menu" class="stats-menu" style="display: none">
      <button id="close-inventory" class="close-btn">Close</button>
      <h2>Inventory</h2>
      <div id="inventory-content"></div>
    </div>

    <!-- Skill Book (NEW) -->
    <div id="skill-book" class="stats-menu" style="display: none">
      <!-- The UIManager will add a drag-header if it doesn't find one -->
      <button id="skill-book-close-button" class="close-btn">Close</button>
      <div id="skill-book-content"></div>
    </div>

    <!-- Loot Window (NEW) -->
    <div id="loot-menu" class="stats-menu" style="display: none">
      <!-- The UIManager will add a drag-header if it doesn't find one -->
      <button id="loot-close-button" class="close-btn">Close</button>
      <div id="loot-content"></div>
    </div>
    <!-- Shop Window -->
    <div id="shop-menu" class="stats-menu" style="display: none">
      <button id="shop-close-button" class="close-btn">Close</button>
      <div id="shop-content"></div>
    </div>

    <div id="admin-toggle-container">
      <button id="admin-toggle-button" class="admin-toggle-btn">Admin</button>
      <button id="map-editor-toggle-button" class="admin-toggle-btn">Map Editor</button>
    </div>
    <div id="admin-panel" class="admin-panel" style="display: none">
      <div class="admin-panel-header">
        <div class="admin-tabs">
          <button class="admin-tab active" data-tab="mobs">Mobs</button>
          <button class="admin-tab" data-tab="player">Player</button>
          <button class="admin-tab" data-tab="skills">Skills</button>
          <button class="admin-tab" data-tab="spawns">Spawns</button>
          <button class="admin-tab" data-tab="npcs">NPCs</button>
        </div>
        <div class="admin-header-actions">
          <button id="admin-reset" class="admin-btn">Reset Tab</button>
          <button id="admin-close" class="admin-btn">Close</button>
        </div>
      </div>
      <div class="admin-panel-body">
        <div id="admin-tab-mobs" class="admin-tab-panel active">
          <div class="admin-tab-actions">
            <button id="admin-reset-mobs" class="admin-btn">Reset Mobs</button>
          </div>
          <div class="admin-split">
            <div id="admin-mobs-list" class="admin-list"></div>
            <div class="admin-detail">
              <div id="admin-mob-fields" class="admin-section-container"></div>
              <div class="admin-section-title">Loot Table</div>
              <div id="admin-mob-loot"></div>
              <button id="admin-add-loot-row" class="admin-btn">Add Loot Row</button>
            </div>
          </div>
        </div>
        <div id="admin-tab-player" class="admin-tab-panel">
          <div class="admin-tab-actions">
            <button id="admin-reset-player" class="admin-btn">Reset Player</button>
          </div>
          <div id="admin-player-fields" class="admin-section-container"></div>
        </div>
        <div id="admin-tab-skills" class="admin-tab-panel">
          <div class="admin-tab-actions">
            <button id="admin-reset-skills" class="admin-btn">Reset Skills</button>
          </div>
          <div class="admin-split">
            <div id="admin-skills-list" class="admin-list"></div>
            <div class="admin-detail">
              <div id="admin-skill-fields" class="admin-section-container"></div>
            </div>
          </div>
        </div>
        <div id="admin-tab-spawns" class="admin-tab-panel">
          <div class="admin-tab-actions">
            <button id="admin-reset-spawns" class="admin-btn">Reset Spawns</button>
          </div>
          <div class="admin-section-container">
            <div class="admin-section-title">Global</div>
            <div id="admin-spawn-global"></div>
          </div>
          <div class="admin-section-container">
            <div class="admin-section-title">Mob Types</div>
            <div id="admin-spawn-list" class="admin-spawn-list"></div>
          </div>
        </div>
        <div id="admin-tab-npcs" class="admin-tab-panel">
          <div class="admin-tab-actions">
            <button id="admin-reset-npcs" class="admin-btn">Reset NPCs</button>
            <button id="admin-add-npc" class="admin-btn">Add NPC</button>
            <button id="admin-remove-npc" class="admin-btn">Remove NPC</button>
          </div>
          <div class="admin-split">
            <div id="admin-npcs-list" class="admin-list"></div>
            <div class="admin-detail">
              <div id="admin-npc-fields" class="admin-section-container"></div>
              <div class="admin-section-title">Placement</div>
              <div class="admin-npc-placement">
                <div class="admin-npc-hint">Drag NPC on the map to move it. Scroll to zoom.</div>
                <button id="admin-npc-drag-toggle" class="admin-btn">Enable Drag</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main game logic -->
    <script type="module" src="./main.js"></script>
  </body>
</html>
